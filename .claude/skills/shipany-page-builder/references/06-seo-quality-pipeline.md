# SEO Quality Pipeline

This document defines an **optional but recommended** automated SEO quality pipeline for pages generated by `shipany-page-builder`. When enabled, it automatically scores and optimizes content to ensure production-ready quality.

## Overview

```
Generate Content ‚Üí Auto-Score ‚Üí Pass? ‚Üí YES ‚Üí Done
                      ‚Üì NO
                 Auto-Optimize ‚Üí Re-Score ‚Üí Done
```

## When to Use

- **Recommended**: For all production pages
- **Optional**: For quick drafts or prototypes (skip with `--skip-seo-pipeline`)

---

## Phase 1: Auto-Scoring

After content generation, automatically evaluate using these skills:

### 1.1 E-E-A-T Score (via `/content-optimizer`)

| Factor | Max | Evaluation |
|--------|-----|------------|
| Experience | 7 | Case studies, hands-on examples, personal insights |
| Expertise | 7 | Technical accuracy, author credentials, depth |
| Authoritativeness | 7 | External citations, unique data, industry recognition |
| Trustworthiness | 6 | Update frequency, source transparency, contact info |
| **Total** | **27** | **Target: ‚â• 18** |

### 1.2 GEO Score (via `/geo-content-optimizer`)

| Factor | Max | Evaluation |
|--------|-----|------------|
| Clear Definitions | 5 | 40-60 word standalone definitions |
| Quotable Statements | 5 | Specific facts with sources |
| Factual Density | 5 | Statistics, data, verifiable claims |
| Source Citations | 5 | Authoritative references |
| Q&A Format | 5 | Question-answer structures |
| Authority Signals | 5 | Expert quotes, credentials |
| Content Freshness | 5 | Recent data, update dates |
| Structure Clarity | 5 | Clear headings, logical flow |
| **Total** | **40** | **Target: ‚â• 30** |

### 1.3 Seven Sweeps (via `/copy-editing`)

| # | Sweep | Check |
|---|-------|-------|
| 1 | Clarity | Immediately understandable? |
| 2 | Voice & Tone | Consistent throughout? |
| 3 | So What | Claims answer "why should I care?" |
| 4 | Prove It | Claims substantiated? |
| 5 | Specificity | Concrete and specific? |
| 6 | Heightened Emotion | Evokes feeling? |
| 7 | Zero Risk | Barriers to action removed? |

**Target: 7/7 passing**

### 1.4 Title Quality (via `/metadata-optimizer`)

| Dimension | Max | Check |
|-----------|-----|-------|
| Length | 10 | Within limits (50-60 chars EN, 25-35 chars ZH) |
| Keywords | 20 | Primary keyword present & positioned early |
| Native Expression | 20 | No machine-translation feel |
| Topic Match | 10 | Accurately reflects page content |
| Uniqueness | 10 | Not duplicated from other pages |
| **Total** | **70** | **Target: ‚â• 50** |

### 1.5 Description Quality (via `/metadata-optimizer`)

| Dimension | Max | Check |
|-----------|-----|-------|
| Length | 10 | Within limits (140-160 chars EN, 70-100 chars ZH) |
| Keywords | 15 | Keywords naturally integrated |
| CTA | 15 | Has call-to-action |
| Value Proposition | 15 | Has unique value proposition |
| Native Expression | 15 | No machine-translation feel |
| **Total** | **70** | **Target: ‚â• 50** |

### 1.6 Word Count & Keyword Density (NEW)

| Dimension | Max | Check |
|-----------|-----|-------|
| Word Count | 10 | ‚â•800 words (EN), ‚â•500 (ZH), ‚â•600 (JA/KO) |
| Optimal Length | 5 | 1000-1500 words (competitive pages) |
| Keyword Density | 10 | Primary keyword 2-3% |
| Keyword Distribution | 5 | Present in H1, H2s, body, alt text |
| No Stuffing | 5 | Density < 4% |
| **Total** | **35** | **Target: ‚â• 25** |

**Word Count Standards:**
| Language | Minimum | Optimal | Maximum |
|----------|---------|---------|---------|
| EN | 800 | 1000-1500 | 2000 |
| ZH | 500 | 700-1000 | 1500 |
| JA/KO | 600 | 800-1200 | 1800 |
| European | 800 | 1000-1500 | 2000 |

**Keyword Density Calculation:**
- Formula: (keyword count / total words) √ó 100
- For 800-word EN page: Primary keyword should appear 16-24 times
- Distribution: Title(1x), Meta desc(1x), H1(1x), H2s(2-3x), Body(10-15x), Alt(2-3x)

---

## Phase 2: Calculate Overall Score

### Formula

```
Overall Score = (E-E-A-T/27 √ó 20) + (GEO/40 √ó 20) + (Sweeps/7 √ó 10) +
               (Title/70 √ó 15) + (Desc/70 √ó 15) + (WordCount/35 √ó 20)
```

> Note: Word Count & Keyword Density now accounts for 20% of overall score.

### Grade Thresholds

| Grade | Score | Status | Action |
|-------|-------|--------|--------|
| A | 90-100 | Excellent | ‚úÖ Pass - ready for production |
| B | 80-89 | Good | ‚úÖ Pass - minor improvements optional |
| C | 60-79 | Needs Work | ‚ö†Ô∏è Auto-optimize required |
| D | 40-59 | Poor | ‚ùå Auto-optimize required |
| F | 0-39 | Failing | ‚ùå Major rewrite required |

**Minimum passing grade: B (80+)** - aligned with i18n-content-audit

---

## Phase 3: Auto-Optimization (if score < 80)

When content fails quality gate, automatically invoke optimization skills:

### Optimization Skill Chain

| Problem | Detection | Optimization Skill |
|---------|-----------|-------------------|
| E-E-A-T low (< 18/27) | Missing experience signals | `/content-optimizer` ‚Üí `/ai-content-creator` |
| GEO low (< 30/40) | Missing quotables/definitions | `/geo-content-optimizer` |
| Sweeps failing | Copy quality issues | `/copy-editing` ‚Üí `/copywriting` |
| Title poor (< 50/70) | Title issues | `/metadata-optimizer` ‚Üí `/keyword-research` |
| Description poor (< 50/70) | Desc issues | `/metadata-optimizer` ‚Üí `/copywriting` |
| Word count low (< 800) | Insufficient content | `/ai-content-creator` ‚Üí expand sections |
| Keyword density low (< 2%) | Missing keywords | `/keyword-research` ‚Üí integrate keywords naturally |
| Keyword stuffing (> 4%) | Over-optimization | `/copy-editing` ‚Üí reduce keyword frequency |

### Optimization Process

```markdown
1. Identify lowest-scoring dimension
2. Call corresponding optimization skill
3. Apply recommended changes to JSON content
4. Re-score affected dimension
5. Repeat until overall score ‚â• 80
6. Max iterations: 3 (to prevent infinite loops)
```

### Fallback

If score still < 80 after 3 iterations:
- Output warning with specific issues
- Recommend manual review with `/i18n-content-audit`
- Still create the page (user can iterate manually)

---

## Phase 4: Output Quality Report

After scoring (and optional optimization), output a summary:

### Report Format

```
üìä SEO Quality Report
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Page: /features/ai-image-generator
Locale: en, zh

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Metric           ‚îÇ Score  ‚îÇ Target ‚îÇ Status ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ E-E-A-T          ‚îÇ 19/27  ‚îÇ ‚â•18    ‚îÇ ‚úÖ     ‚îÇ
‚îÇ GEO              ‚îÇ 32/40  ‚îÇ ‚â•30    ‚îÇ ‚úÖ     ‚îÇ
‚îÇ Seven Sweeps     ‚îÇ 7/7    ‚îÇ 7/7    ‚îÇ ‚úÖ     ‚îÇ
‚îÇ Title Quality    ‚îÇ 58/70  ‚îÇ ‚â•50    ‚îÇ ‚úÖ     ‚îÇ
‚îÇ Desc Quality     ‚îÇ 55/70  ‚îÇ ‚â•50    ‚îÇ ‚úÖ     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Overall          ‚îÇ 85/100 ‚îÇ ‚â•80    ‚îÇ ‚úÖ B   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚úÖ Quality gate PASSED - page is production-ready
```

### Report with Issues

```
üìä SEO Quality Report
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Page: /features/ai-image-generator
Locale: en, zh

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Metric           ‚îÇ Score  ‚îÇ Target ‚îÇ Status ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ E-E-A-T          ‚îÇ 15/27  ‚îÇ ‚â•18    ‚îÇ ‚ö†Ô∏è     ‚îÇ
‚îÇ GEO              ‚îÇ 28/40  ‚îÇ ‚â•30    ‚îÇ ‚ö†Ô∏è     ‚îÇ
‚îÇ Seven Sweeps     ‚îÇ 5/7    ‚îÇ 7/7    ‚îÇ ‚ö†Ô∏è     ‚îÇ
‚îÇ Title Quality    ‚îÇ 52/70  ‚îÇ ‚â•50    ‚îÇ ‚úÖ     ‚îÇ
‚îÇ Desc Quality     ‚îÇ 48/70  ‚îÇ ‚â•50    ‚îÇ ‚ö†Ô∏è     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Overall          ‚îÇ 68/100 ‚îÇ ‚â•80    ‚îÇ ‚ö†Ô∏è C   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚ö†Ô∏è Quality gate NEEDS IMPROVEMENT

Issues Found:
1. E-E-A-T: Missing case studies (-3 points)
2. GEO: Lacks clear definitions for key terms (-2 points)
3. Seven Sweeps #4 (Prove It): Claims need substantiation
4. Seven Sweeps #5 (Specificity): Replace vague terms with numbers
5. Description: Missing clear CTA

üîß Auto-optimizing...
   ‚îú‚îÄ Adding case study section...
   ‚îú‚îÄ Adding definitions for "AI image generation"...
   ‚îú‚îÄ Adding statistics with sources...
   ‚îú‚îÄ Rewriting description with CTA...
   ‚îî‚îÄ Done

üìä Re-scored: 84/100 (B) ‚úÖ
```

---

## Integration with Execution Order

This pipeline runs **after** content generation and **before** final validation:

```markdown
## Execution order (with SEO Pipeline)

1. Normalize input + decide route/slug: `references/00-guide.md`
2. Review SEO requirements: `references/02-seo-best-practices.md`
3. Generate locale files and register message path
4. Update sitemap config: `references/05-sitemap-config.md`
5. **SEO Quality Pipeline**: `references/06-seo-quality-pipeline.md` ‚Üê NEW
   - Score content
   - Optimize if needed
   - Output quality report
6. Quick validation checklist: `references/01-checklist.md`
7. Validate build: `pnpm build`
```

---

## Skipping the Pipeline

For quick drafts or prototypes, skip with:

```bash
/shipany-page-builder --skip-seo-pipeline
```

Or explicitly request:
- "Create a draft page without SEO optimization"
- "Quick prototype, skip quality checks"

---

## Related Skills

| Skill | Role in Pipeline |
|-------|------------------|
| `/content-optimizer` | E-E-A-T scoring and improvement suggestions |
| `/geo-content-optimizer` | GEO scoring and AI-citation optimization |
| `/copy-editing` | Seven Sweeps evaluation |
| `/copywriting` | Copy improvement and rewriting |
| `/metadata-optimizer` | Title/description audit |
| `/keyword-research` | Keyword validation and research |
| `/ai-content-creator` | Content generation and rewriting |
| `/i18n-content-audit` | Full audit for existing pages |

---

## Quality Targets Summary

| Metric | Minimum | Good | Excellent |
|--------|---------|------|-----------|
| E-E-A-T | 18/27 | 21/27 | 24+/27 |
| GEO | 30/40 | 34/40 | 38+/40 |
| Seven Sweeps | 7/7 | 7/7 | 7/7 |
| Title Quality | 50/70 | 58/70 | 65+/70 |
| Desc Quality | 50/70 | 58/70 | 65+/70 |
| Word Count & Density | 25/35 | 28/35 | 32+/35 |
| **Overall** | **80/100** | **85/100** | **90+/100** |

**Word Count Reference:**
| Language | Minimum | Optimal | Keyword Density |
|----------|---------|---------|-----------------|
| EN | 800 words | 1000-1500 | 2-3% |
| ZH | 500 words | 700-1000 | 2-4% |
| JA/KO | 600 words | 800-1200 | 2-3% |

> Note: These targets are aligned with `/i18n-content-audit` for consistency across all SEO skills.
